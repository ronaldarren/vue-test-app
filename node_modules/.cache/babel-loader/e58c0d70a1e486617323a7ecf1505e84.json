{"remainingRequest":"R:\\Dev\\Vue\\VueTutorial\\vue-test-app\\node_modules\\babel-loader\\lib\\index.js!R:\\Dev\\Vue\\VueTutorial\\vue-test-app\\node_modules\\eslint-loader\\index.js??ref--13-0!R:\\Dev\\Vue\\VueTutorial\\vue-test-app\\src\\store.js","dependencies":[{"path":"R:\\Dev\\Vue\\VueTutorial\\vue-test-app\\src\\store.js","mtime":1554654141780},{"path":"R:\\Dev\\Vue\\VueTutorial\\vue-test-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"R:\\Dev\\Vue\\VueTutorial\\vue-test-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"R:\\Dev\\Vue\\VueTutorial\\vue-test-app\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"R:\\\\Dev\\\\Vue\\\\VueTutorial\\\\vue-test-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport firebase from 'firebase';\nimport router from '@/router';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    recipes: [],\n    apiUrl: 'https://api.edamam.com/search',\n    user: null,\n    isAuthenticated: false,\n    userRecipes: []\n  },\n  mutations: {\n    setRecipes: function setRecipes(state, payload) {\n      state.recipes = payload;\n    },\n    setUser: function setUser(state, payload) {\n      state.user = payload;\n    },\n    setIsAuthenticated: function setIsAuthenticated(state, payload) {\n      state.isAuthenticated = payload;\n    },\n    setUserRecipes: function setUserRecipes(state, payload) {\n      state.userRecipes = payload;\n    }\n  },\n  actions: {\n    getRecipes: function () {\n      var _getRecipes = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref, plan) {\n        var state, commit, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                state = _ref.state, commit = _ref.commit;\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get(\"\".concat(state.apiUrl), {\n                  params: {\n                    q: plan,\n                    app_id: '68b39a14',\n                    app_key: '7474a660d59ed8d37ed83597f976c879',\n                    from: 0,\n                    to: 9\n                  }\n                });\n\n              case 4:\n                response = _context.sent;\n                commit('setRecipes', response.data.hits);\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                commit('setRecipes', []);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function getRecipes(_x, _x2) {\n        return _getRecipes.apply(this, arguments);\n      }\n\n      return getRecipes;\n    }(),\n    userLogin: function userLogin(_ref2, _ref3) {\n      var commit = _ref2.commit;\n      var email = _ref3.email,\n          password = _ref3.password;\n      firebase.auth().signInWithEmailAndPassword(email, password).then(function (user) {\n        commit('setUser', user);\n        commit('setIsAuthenticated', true);\n        router.push('/my-recipes');\n      }).catch(function () {\n        commit('setUser', null);\n        commit('setIsAuthenticated', false);\n        router.push('/');\n      });\n    },\n    userJoin: function userJoin(_ref4, _ref5) {\n      var commit = _ref4.commit;\n      var email = _ref5.email,\n          password = _ref5.password;\n      firebase.auth().createUserWithEmailAndPassword(email, password).then(function (user) {\n        commit('setUser', user);\n        commit('setIsAuthenticated', true);\n        router.push('/my-recipes');\n      }).catch(function () {\n        commit('setUser', null);\n        commit('setIsAuthenticated', false);\n        router.push('/');\n      });\n    },\n    userSignOut: function userSignOut(_ref6) {\n      var commit = _ref6.commit;\n      firebase.auth().signOut().then(function () {\n        commit('setUser', null);\n        commit('setIsAuthenticated', false);\n        router.push('/');\n      }).catch(function () {\n        commit('setUser', null);\n        commit('setIsAuthenticated', false);\n        router.push('/');\n      });\n    },\n    addRecipe: function addRecipe(_ref7, payload) {\n      var state = _ref7.state;\n      firebase.database().ref('users').child(state.user.user.uid).push(payload.recipe.label);\n    },\n    getUserRecipes: function getUserRecipes(_ref8) {\n      var state = _ref8.state,\n          commit = _ref8.commit;\n      return firebase.database().ref('users/' + state.user.user.uid).once('value', function (snapshot) {\n        commit('setUserRecipes', snapshot.val());\n      });\n    }\n  },\n  getters: {\n    isAuthenticated: function isAuthenticated(state) {\n      return state.user !== null && state.user !== undefined;\n    }\n  }\n});",{"version":3,"sources":["R:\\Dev\\Vue\\VueTutorial\\vue-test-app\\src\\store.js"],"names":["Vue","Vuex","axios","firebase","router","use","Store","state","recipes","apiUrl","user","isAuthenticated","userRecipes","mutations","setRecipes","payload","setUser","setIsAuthenticated","setUserRecipes","actions","getRecipes","plan","commit","get","params","q","app_id","app_key","from","to","response","data","hits","userLogin","email","password","auth","signInWithEmailAndPassword","then","push","catch","userJoin","createUserWithEmailAndPassword","userSignOut","signOut","addRecipe","database","ref","child","uid","recipe","label","getUserRecipes","once","snapshot","val","getters","undefined"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport firebase from 'firebase';\nimport router from '@/router';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n    state: {\n        recipes: [],\n        apiUrl: 'https://api.edamam.com/search',\n        user: null,\n        isAuthenticated: false,\n        userRecipes: []\n    },\n    mutations: {\n        setRecipes(state, payload) {\n            state.recipes = payload;\n        },\n        setUser(state, payload) {\n            state.user = payload;\n        },\n        setIsAuthenticated(state, payload) {\n            state.isAuthenticated = payload;\n        },\n        setUserRecipes(state, payload) {\n            state.userRecipes = payload;\n        }\n    },\n    actions: {\n        async getRecipes({ state, commit }, plan) {\n            try {\n                let response = await axios.get(`${state.apiUrl}`, {\n                    params: {\n                        q: plan,\n                        app_id: '68b39a14',\n                        app_key: '7474a660d59ed8d37ed83597f976c879',\n                        from: 0,\n                        to: 9\n                    }\n                });\n                commit('setRecipes', response.data.hits);\n            } catch (error) {\n                commit('setRecipes', []);\n            }\n        },\n        userLogin({ commit }, { email, password }) {\n            firebase\n                .auth()\n                .signInWithEmailAndPassword(email, password)\n                .then(user => {\n                    commit('setUser', user);\n                    commit('setIsAuthenticated', true);\n                    router.push('/my-recipes');\n                })\n                .catch(() => {\n                    commit('setUser', null);\n                    commit('setIsAuthenticated', false);\n                    router.push('/');\n                });\n        },\n        userJoin({ commit }, { email, password }) {\n            firebase\n                .auth()\n                .createUserWithEmailAndPassword(email, password)\n                .then(user => {\n                    commit('setUser', user);\n                    commit('setIsAuthenticated', true);\n                    router.push('/my-recipes');\n                })\n                .catch(() => {\n                    commit('setUser', null);\n                    commit('setIsAuthenticated', false);\n                    router.push('/');\n                });\n        },\n        userSignOut({ commit }) {\n            firebase\n                .auth()\n                .signOut()\n                .then(() => {\n                    commit('setUser', null);\n                    commit('setIsAuthenticated', false);\n                    router.push('/');\n                })\n                .catch(() => {\n                    commit('setUser', null);\n                    commit('setIsAuthenticated', false);\n                    router.push('/');\n                });\n        },\n        addRecipe({ state }, payload) {\n            firebase\n                .database()\n                .ref('users')\n                .child(state.user.user.uid)\n                .push(payload.recipe.label);\n        },\n        getUserRecipes({ state, commit }) {\n            return firebase\n                .database()\n                .ref('users/' + state.user.user.uid)\n                .once('value', snapshot => {\n                    commit('setUserRecipes', snapshot.val());\n                });\n        }\n    },\n    getters: {\n        isAuthenticated(state) {\n            return state.user !== null && state.user !== undefined;\n        }\n    }\n});\n"]}]}